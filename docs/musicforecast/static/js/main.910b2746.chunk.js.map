{"version":3,"sources":["logo.svg","SearchBar.js","SearchResults.js","SeekZone.js","LoadingAnimation.js","DetailsModal.js","DataVisuals.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","SearchBar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSearchBarChange","bind","assertThisInitialized","event","onSearchTextChange","target","value","react_default","a","createElement","type","placeholder","searchText","onChange","Component","SearchResults","organiseResults","clickResult","results","_this2","map","location","ind","locationString","city","state","displayName","country","className","key","onClick","e","metroArea","id","stateInclude","string","locationSearch","onResultClick","apiResults","SeekZone","searchResults","handleSearchTextChange","handleSearchResultClick","input","setState","query","fetch","then","response","status","console","log","json","data","resultsPage","totalEntries","slice","src_SearchResults_0","src_SearchBar","LoadingAnimation","active","react_spinners","color","text","DetailsModal","exitModal","exitFunc","content","selectedData","alt","xmlns","viewBox","d","name","toLowerCase","range","join","events","eventGenres","artists","filter","artist","topGenres","flat","genre","sort","b","count","href","link","rel","date","replace","lib_default","overlayClassName","isOpen","selection","length","checkData","closeTimeoutMS","onRequestClose","disableAutoFocus","appElement","document","getElementById","React","JoyPlot","dimensions","rectCount","xScale","modal","xAxisRef","createRef","brushRef","renderAxes","renderBrushes","clearModal","xAxis","d3","ticks","window","innerWidth","scale","current","forEach","point","topLeft","margin","left","top","height","bottomRight","width","currentBrush","append","attr","genreBrush","extent","on","_d3$event$selection","slicedToArray","minX","maxX","invert","values","weight","curDate","Date","details","hit","push","dates","move","rectcount","right","bottom","renderprops","items","index","transform","concat","x","y","rect","bandwidth","yScale","cScale","chroma","colorScale","hex","calcWaveRects","empty","fill","renderGenre","keys","item","from","opacity","to","g","style","ref","src_DetailsModal","nextProps","dataSet","parseTime","nested","rollup","v","thing","self","findIndex","t","place","entries","xExtent","usableData","nestedData","dateExtent","formattedData","newGenre","_loop","found","curValue","date1","date2","cur","getFullYear","getMonth","getDate","setDate","formatZeroValues","domain","globalYScale","Math","floor","yExtent","paddingInner","App","loading","ready","stats","homeReset","locationId","_this3","src","logo","src_SeekZone_0","src_LoadingAnimation","src_DataVisuals","Boolean","hostname","match","ReactDOM","render","src_App_0","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.910b2746.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d762816.svg\";","import React, { Component } from \"react\";\n\nclass SearchBar extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSearchBarChange = this.handleSearchBarChange.bind(this);\n  }\n\n  handleSearchBarChange(event) {\n    this.props.onSearchTextChange(event.target.value);\n  }\n\n  render() {\n    return (\n      <div>\n        <input\n          type=\"text\"\n          placeholder=\"Search location...\"\n          value={this.props.searchText}\n          onChange={this.handleSearchBarChange}\n        />\n      </div>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React, { Component } from \"react\";\nimport \"./SearchResults.css\";\n\nclass SearchResults extends Component {\n  constructor(props) {\n    super(props);\n\n    this.organiseResults = this.organiseResults.bind(this);\n    this.clickResult = this.clickResult.bind(this);\n  }\n\n  organiseResults(results) {\n    return results.map((location, ind) => {\n      const locationString = location.city.state\n        ? location.city.displayName +\n          \", \" +\n          location.city.state.displayName +\n          \", \" +\n          location.city.country.displayName\n        : location.city.displayName + \", \" + location.city.country.displayName;\n\n      return (\n        <li\n          className=\"result\"\n          key={ind}\n          onClick={e =>\n            this.clickResult(location.metroArea.id, locationString, e)\n          }\n        >\n          <div className=\"city\">{location.city.displayName}, </div>\n          {stateInclude(location)}\n          <div className=\"country\">{location.city.country.displayName}</div>\n        </li>\n      );\n\n      function stateInclude(location) {\n        if (location.city.state) {\n          return (\n            <div className=\"state\">{location.city.state.displayName}, </div>\n          );\n        } else return null;\n      }\n    });\n  }\n\n  clickResult(id, string) {\n    this.props.locationSearch(id, string);\n    this.props.onResultClick();\n  }\n\n  render() {\n    return (\n      <ul id=\"search-results\">{this.organiseResults(this.props.apiResults)}</ul>\n    );\n  }\n}\n\nexport default SearchResults;\n","import React, { Component } from \"react\";\nimport SearchBar from \"./SearchBar\";\nimport SearchResults from \"./SearchResults\";\nimport \"./SeekZone.css\";\n\nclass SeekZone extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchText: \"\",\n      searchResults: null\n      // searchHighlight: null\n    };\n\n    this.handleSearchTextChange = this.handleSearchTextChange.bind(this);\n    this.handleSearchResultClick = this.handleSearchResultClick.bind(this);\n  }\n\n  handleSearchTextChange(input) {\n    this.setState(\n      {\n        searchText: input\n      },\n      () => {\n        // Callback after updating state - queries the Heroku API\n        const query = this.state.searchText;\n        if (query !== \"\") {\n          const URL = \"https://music-forecast.herokuapp.com/locations/\" + query;\n\n          fetch(URL)\n            .then(response => {\n              if (response.status !== 200) {\n                console.log(\n                  \"Looks like there was a problem with the SongKick location API. Status Code: \" +\n                    response.status\n                );\n                return;\n              } else return response.json();\n            })\n            .then(data => {\n              if (data.resultsPage.totalEntries > 0) {\n                this.setState({\n                  searchResults: data.resultsPage.results.location.slice(0, 7)\n                });\n              } else {\n                this.setState({\n                  searchResults: null\n                });\n              }\n            });\n        }\n      }\n    );\n  }\n\n  handleSearchResultClick() {\n    this.setState({\n      searchText: \"\",\n      searchResults: null\n    });\n  }\n\n  // handleArrowClick(direction) {\n\n  // }\n\n  render() {\n    let results;\n    if (this.state.searchResults) {\n      results = (\n        <div id=\"searchResults\">\n          <SearchResults\n            apiResults={this.state.searchResults}\n            locationSearch={this.props.locationSearch}\n            onResultClick={this.handleSearchResultClick}\n          />\n        </div>\n      );\n    } else results = null;\n\n    return (\n      <div id=\"seek\">\n        <div id=\"searchbar\">\n          <SearchBar\n            searchText={this.state.searchText}\n            onSearchTextChange={this.handleSearchTextChange}\n          />\n        </div>\n        {results}\n      </div>\n    );\n  }\n}\n\nexport default SeekZone;\n","import React, { Component } from \"react\";\nimport { ScaleLoader } from \"react-spinners\";\n\nclass LoadingAnimation extends Component {\n  render() {\n    if (!this.props.active) return null;\n    return (\n      <div>\n        <ScaleLoader color=\"rgb(50, 50, 50)\" />\n        <p>{this.props.text}</p>\n        {/* <p>( loading... this might take a while )</p> */}\n      </div>\n    );\n  }\n}\n\nexport default LoadingAnimation;\n","import React from \"react\";\nimport Modal from \"react-modal\";\n// import * as d3 from \"d3\";\n\nclass DetailsModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.exitModal = this.exitModal.bind(this);\n  }\n\n  exitModal() {\n    this.props.exitFunc();\n  }\n\n  render() {\n    const active = this.props.selectedData !== null ? true : false;\n    const content = active ? (\n      <div className=\"modal-container\">\n        <svg\n          className=\"close-btn\"\n          alt=\"close\"\n          onClick={this.exitModal}\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 802.5 802.5\"\n        >\n          <g>\n            <path d=\"M401.25,246.25l235-235c15-15,39-15,55,0l100,101a39.24,39.24,0,0,1,0,55l-234,234,234,235c15,15,15,39,0,55l-100,100c-16,15-40,15-55,0l-235-234-234,234a39.24,39.24,0,0,1-55,0l-101-100c-15-16-15-40,0-55l235-235-235-234a39.24,39.24,0,0,1,0-55l101-101a39.24,39.24,0,0,1,55,0Z\" />\n          </g>\n        </svg>\n        <div className=\"modal-header\">\n          <div>\n            <div className=\"genre-name\">\n              {this.props.selectedData.name.toLowerCase()}\n            </div>\n            <div className=\"city-name\">\n              {\" \"}\n              in {this.props.selectedData.location}\n            </div>\n          </div>\n          <div className=\"date-range\">\n            {this.props.selectedData.range.join(\" to \")}\n          </div>\n        </div>\n        <div className=\"event-cont\">\n          {this.props.selectedData.events.map(event => {\n            const eventGenres = event.artists\n              .filter(artist => artist.topGenres)\n              .map(artist => artist.topGenres.slice(0, 5))\n              .flat()\n              .filter(genre => genre.name !== \"seen live\")\n              .sort((a, b) => b.count - a.count)\n              .slice(0, 3)\n              .map(genre => genre.name.toLowerCase());\n            // .reduce((acc, cur) => {});\n\n            return (\n              <a\n                href={event.link}\n                key={event.link}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                <div className=\"event-box\">\n                  <div className=\"event-header\">\n                    <div className=\"event-date\">{event.date}</div>\n                    <div className=\"event-genres\">{eventGenres.join(\", \")}</div>\n                  </div>\n                  <div className=\"event-name\">\n                    {event.name.replace(/\\(\\w+ \\d+, \\d+\\)/g, \"\")}\n                  </div>\n                </div>\n              </a>\n            );\n          })}\n        </div>\n        {/* <button onClick={this.exitModal}>close</button> */}\n      </div>\n    ) : null;\n\n    function checkData(active, selection) {\n      if (active) {\n        if (selection.events.length > 0) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    return (\n      <Modal\n        className=\"modal-content\"\n        overlayClassName=\"modal-overlay\"\n        isOpen={checkData(this.props.active, this.props.selectedData)}\n        closeTimeoutMS={200}\n        onRequestClose={this.exitModal}\n        disableAutoFocus={true}\n        appElement={document.getElementById(\"root\")}\n      >\n        {content}\n      </Modal>\n    );\n  }\n}\n\nexport default DetailsModal;\n","import React from \"react\";\nimport * as d3 from \"d3\";\nimport \"./DataVisuals.css\";\nimport { Trail, animated } from \"react-spring/renderprops\";\nimport DetailsModal from \"./DetailsModal\";\nimport chroma from \"chroma-js\";\n\nclass JoyPlot extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {},\n      dimensions: {},\n      rectCount: null,\n      xScale: null,\n      modal: false,\n      selection: null\n    };\n\n    // References for D3 rendering\n    this.xAxisRef = React.createRef();\n    this.brushRef = React.createRef();\n\n    this.renderAxes = this.renderAxes.bind(this);\n    this.renderBrushes = this.renderBrushes.bind(this);\n    this.clearModal = this.clearModal.bind(this);\n  }\n\n  static getDerivedStateFromProps(nextProps) {\n    const { dataSet } = nextProps;\n    if (!dataSet) return {};\n\n    const margin = {\n      top: 30,\n      right: window.innerWidth / 8,\n      bottom: 30,\n      left: window.innerWidth / 8 > 120 ? window.innerWidth / 8 : 120\n    };\n    const width =\n      window.innerWidth - window.innerWidth / 20 - margin.left - margin.right;\n    const height = 2000 - margin.top - margin.bottom;\n\n    const parseTime = d3.timeParse(\"%Y-%m-%d\");\n\n    // Nest data according to genre and dates\n    const nested = d3\n      .nest()\n      .key(d => d.genre)\n      .key(d => parseTime(d.date))\n      .rollup(v => {\n        return {\n          weight: d3.sum(v, d => d.weight),\n          details: v\n            .map(date => {\n              return date.details;\n            })\n            .filter((thing, index, self) => {\n              // Object duplicate filter found at https://stackoverflow.com/questions/2218999/remove-duplicates-from-an-array-of-objects-in-javascript#comment72641733_36744732\n              return (\n                self.findIndex(\n                  t => t.place === thing.place && t.name === thing.name\n                ) === index\n              );\n            })\n        };\n      })\n      .entries(dataSet)\n      .sort((a, b) => {\n        // Organise after genre cumulative weight\n        return (\n          d3.sum(b.values, d => d.value.weight) -\n          d3.sum(a.values, d => d.value.weight)\n        );\n      });\n\n    const xExtent = d3.extent(dataSet, d => parseTime(d.date));\n\n    // Adds missing dates into dataset with zero values\n    function formatZeroValues(nestedData, dateExtent) {\n      function dateCompare(date1, date2) {\n        return (\n          date1.getFullYear() === date2.getFullYear() &&\n          // getMonth is 0-indexed\n          date1.getMonth() === date2.getMonth() &&\n          date1.getDate() === date2.getDate()\n        );\n      }\n\n      const formattedData = [];\n\n      nestedData.forEach(genre => {\n        const newGenre = {\n          key: genre.key,\n          values: []\n        };\n\n        for (\n          let d = new Date(dateExtent[0]);\n          d < dateExtent[1];\n          d.setDate(d.getDate() + 1)\n        ) {\n          let found = false;\n          let curValue;\n          genre.values.forEach(date => {\n            const cur = new Date(date.key);\n\n            if (dateCompare(d, cur)) {\n              found = true;\n              curValue = date;\n            }\n          });\n          if (found) {\n            newGenre.values.push(curValue);\n          } else {\n            newGenre.values.push({\n              key: new Date(d),\n              value: { weight: 0 }\n            });\n          }\n        }\n\n        formattedData.push(newGenre);\n      });\n\n      return formattedData;\n    }\n\n    const usableData = formatZeroValues(nested, xExtent);\n\n    const xScale = d3\n      .scaleTime()\n      .domain(xExtent)\n      .range([0, width]);\n\n    // Global Y scale function used for colouring\n    const globalYScale = d3\n      .scaleLinear()\n      .domain([\n        d3.min(usableData, d => {\n          return d3.min(d.values, v => v.value.weight);\n        }),\n        d3.max(usableData, d => {\n          return d3.max(d.values, v => v.value.weight);\n        })\n      ])\n      .range([0, 1]);\n\n    // Amount of rectangles making up each genre chart\n    const rectCount = Math.floor(window.innerWidth / 4);\n\n    usableData.forEach(genre => {\n      const yExtent = [\n        d3.min(genre.values, d => d.value.weight),\n        d3.max(genre.values, d => d.value.weight)\n      ];\n\n      const yScale = d3\n        .scaleLinear()\n        .domain(yExtent)\n        .range([0, height / 40 - 5]);\n\n      genre.colorScale = d3\n        .scaleLinear()\n        .domain(genre.values.map(d => xScale(new Date(d.key))))\n        .range(genre.values.map(d => globalYScale(d.value.weight)));\n\n      genre.yScale = d3\n        .scaleLinear()\n        .domain(genre.values.map(d => xScale(new Date(d.key))))\n        .range(genre.values.map(d => yScale(d.value.weight)));\n\n      genre.xScale = d3\n        .scaleBand()\n        .domain(d3.range(rectCount))\n        .paddingInner(0.05)\n        .range([0, width]);\n    });\n\n    return {\n      data: usableData,\n      dimensions: {\n        margin,\n        width,\n        height\n      },\n      rectCount,\n      xScale,\n      globalYScale\n    };\n  }\n\n  componentDidMount() {\n    this.renderAxes();\n    this.renderBrushes();\n  }\n\n  componentDidUpdate() {\n    this.renderAxes();\n    this.renderBrushes();\n  }\n\n  renderAxes() {\n    const xAxis = d3.axisTop();\n\n    // Determine responsive amount of ticks by window width\n    xAxis.ticks(window.innerWidth / 100);\n\n    xAxis.scale(this.state.xScale);\n    d3.select(this.xAxisRef.current).call(xAxis);\n  }\n\n  renderBrushes() {\n    this.state.data.forEach((point, ind) => {\n      const topLeft = [\n        this.state.dimensions.margin.left,\n        this.state.dimensions.margin.top +\n          ind * (this.state.dimensions.height / 20) +\n          18\n      ];\n      const bottomRight = [\n        this.state.dimensions.width + this.state.dimensions.margin.left,\n        this.state.dimensions.margin.top +\n          (ind + 1) * (this.state.dimensions.height / 20) +\n          18\n      ];\n\n      const currentBrush = d3\n        .select(this.brushRef.current)\n        .append(\"g\")\n        .attr(\"id\", point.key + \"-brush\")\n        .attr(\"class\", \"genre-brush\");\n\n      const genreBrush = d3\n        .brushX()\n        .extent([\n          topLeft, // Top left\n          bottomRight // Bottom right\n        ])\n        .on(\"end\", () => {\n          if (!d3.event.selection) return;\n          const [minX, maxX] = d3.event.selection;\n          const range = [\n            this.state.xScale.invert(minX - this.state.dimensions.margin.left),\n            this.state.xScale.invert(maxX - this.state.dimensions.margin.left)\n          ];\n          const events = [];\n\n          point.values.forEach(date => {\n            if (date.value.weight !== 0) {\n              const curDate = new Date(date.key);\n              if (curDate >= range[0] && curDate <= range[1]) {\n                const hitConcerts = date.value.details;\n                hitConcerts.forEach(hit => {\n                  events.push(hit);\n                });\n              }\n            }\n          });\n\n          this.setState({\n            modal: true,\n            selection: {\n              name: point.key,\n              location: this.props.location,\n              events,\n              range: range.map(dates => d3.timeFormat(\"%B %d, %Y\")(dates))\n            }\n          });\n          currentBrush.call(genreBrush.move, null);\n        });\n\n      currentBrush.call(genreBrush);\n    });\n  }\n\n  clearModal() {\n    this.setState({\n      modal: false\n    });\n  }\n\n  render() {\n    const dimensions = this.state.dimensions;\n    const rectcount = this.state.rectCount;\n\n    function renderGenre(data) {\n      return data.map((genre, index) => {\n        return (\n          <g\n            key={genre.key}\n            className=\"genre-group\"\n            transform={`translate(${0}, ${(index + 1) *\n              (dimensions.height / 20)})`}\n          >\n            <text x={dimensions.margin.left - 10} y=\"3\" className=\"genre-label\">\n              {genre.key.toLowerCase()}\n            </text>\n            <g transform={`translate(${dimensions.margin.left}, 0)`}>\n              {drawWaveRects(calcWaveRects(genre, rectcount))}\n            </g>\n          </g>\n        );\n      });\n\n      function calcWaveRects(genre, count) {\n        return d3.range(count).map((rect, ind) => {\n          // console.log(rect);\n          const x = genre.xScale(rect);\n          const width = genre.xScale.bandwidth();\n          const y = genre.yScale(x);\n          const height = y * 2;\n          const id = genre.key + \"-\" + ind;\n\n          const cScale = chroma.scale(\"GnBu\");\n          const color = cScale(genre.colorScale(x)).hex();\n          // const color = this.state.globalYScale();\n\n          // console.log(y);\n\n          return {\n            x,\n            width,\n            y,\n            height,\n            id,\n            color\n          };\n        });\n      }\n\n      function drawWaveRects(rects) {\n        return rects.map(rect => {\n          const empty = rect.y <= 0;\n          const noValue = 0.2;\n          return (\n            <g key={rect.id} className={empty ? \"empty-bar\" : \"data-bar\"}>\n              <rect\n                x={rect.x}\n                y={empty ? -noValue / 2 : -rect.y}\n                width={rect.width}\n                height={empty ? noValue : rect.height}\n                fill={rect.color}\n              />\n            </g>\n          );\n        });\n      }\n    }\n\n    const data = this.state.data;\n\n    if (data) {\n      return (\n        <div>\n          <svg\n            width={\n              dimensions.width +\n              dimensions.margin.left +\n              dimensions.margin.right\n            }\n            height={\n              dimensions.height +\n              dimensions.margin.top +\n              dimensions.margin.bottom\n            }\n          >\n            <Trail\n              items={renderGenre(data)}\n              keys={item => item.key + \"barz\"}\n              from={{ opacity: 0, transform: \"translate3d(0,-40px,0)\" }}\n              to={{ opacity: 1, transform: \"translate3d(0,0px,0)\" }}\n            >\n              {item => props => <animated.g style={props}>{item}</animated.g>}\n            </Trail>\n            <g\n              ref={this.xAxisRef}\n              transform={`translate(${dimensions.margin.left}, ${\n                this.state.dimensions.margin.top\n              })`}\n            />\n            <g ref={this.brushRef} />\n          </svg>\n          <DetailsModal\n            active={this.state.modal}\n            exitFunc={this.clearModal}\n            selectedData={this.state.selection}\n          />\n        </div>\n      );\n    } else return null;\n  }\n}\n\nexport default JoyPlot;\n","import React, { Component } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport SeekZone from \"./SeekZone\";\nimport LoadingAnimation from \"./LoadingAnimation\";\nimport JoyPlot from \"./DataVisuals\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      location: null,\n      loading: true,\n      ready: false,\n      stats: null\n    };\n    this.locationSearch = this.locationSearch.bind(this);\n    this.homeReset = this.homeReset.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(\"sent\");\n    const URL = \"https://music-forecast.herokuapp.com/status/\";\n\n    fetch(URL).then(response => {\n      if (response.status === 200) {\n        this.setState({\n          loading: false,\n          ready: true\n        });\n      }\n    });\n  }\n\n  locationSearch(locationId, string) {\n    this.setState({\n      location: string,\n      loading: true,\n      stats: null\n    });\n\n    const URL = \"https://music-forecast.herokuapp.com/events/\" + locationId;\n\n    fetch(URL)\n      .then(response => {\n        return response.json();\n      })\n      .then(data => {\n        this.setState({\n          loading: false,\n          stats: data\n        });\n      });\n  }\n\n  homeReset() {\n    this.setState({\n      location: null,\n      loading: false,\n      stats: null\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <img\n            src={logo}\n            className=\"App-logo\"\n            alt=\"logo\"\n            onClick={this.homeReset}\n          />\n        </header>\n        {this.state.ready ? (\n          <div>\n            <SeekZone locationSearch={this.locationSearch} />\n            <div className=\"locationName\">{this.state.location}</div>\n            <LoadingAnimation\n              active={this.state.loading}\n              text=\"loading results...\"\n            />\n            {this.state.stats && (\n              <div className=\"data-visuals\">\n                <JoyPlot\n                  dataSet={this.state.stats}\n                  location={this.state.location}\n                />\n              </div>\n            )}\n          </div>\n        ) : (\n          <LoadingAnimation\n            active={this.state.loading}\n            text=\"starting server...\"\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}